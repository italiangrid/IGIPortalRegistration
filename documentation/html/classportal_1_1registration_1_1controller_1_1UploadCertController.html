<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Registration: portal.registration.controller.UploadCertController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="www.italiangrid.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Registration&#160;<span id="projectnumber">4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceportal.html">portal</a>      </li>
      <li class="navelem"><a class="el" href="namespaceportal_1_1registration.html">registration</a>      </li>
      <li class="navelem"><a class="el" href="namespaceportal_1_1registration_1_1controller.html">controller</a>      </li>
      <li class="navelem"><a class="el" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html">UploadCertController</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">portal.registration.controller.UploadCertController Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="portal::registration::controller::UploadCertController" --><div class="dynheader">
Collaboration diagram for portal.registration.controller.UploadCertController:</div>
<div class="dyncontent">
<div class="center"><img src="classportal_1_1registration_1_1controller_1_1UploadCertController__coll__graph.png" border="0" usemap="#portal_8registration_8controller_8UploadCertController_coll__map" alt="Collaboration graph"/></div>
<map name="portal_8registration_8controller_8UploadCertController_coll__map" id="portal_8registration_8controller_8UploadCertController_coll__map">
<area shape="rect" id="node4" href="interfaceportal_1_1registration_1_1services_1_1CertificateService.html" title="{portal.registration.services.CertificateService\n||+ save()\l+ delete()\l+ save()\l+ findById()\l+ delete()\l+ setDefault()\l}" alt="" coords="108,6,367,154"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classportal_1_1registration_1_1controller_1_1UploadCertController-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ac913a3594756b96ed7f0fcd84554db1d">showUploadCert</a> (RenderResponse response)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#aabfea247d5dc60c807432e5c7d097b88">uploadCert</a> (ActionRequest request, ActionResponse response, SessionStatus sessionStatus)  throws PortalException, 			SystemException </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ae16df287c878b7a8539deca62dae4fa0">setDefaultCert</a> (ActionRequest request, ActionResponse response, SessionStatus sessionStatus)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#a93445bb06f7dc882972b7ca3f77cb152">removeCert</a> (ActionRequest request, ActionResponse response, SessionStatus sessionStatus)</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#aee6346cc2b1fde64774735838e5f3011">myOpenssl</a> (String opt, String filename, ArrayList&lt; String &gt; errors)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#a527883177a6f0d3525c6fe54bd41d323">deleteUploadedFile</a> (ArrayList&lt; String &gt; files)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceportal_1_1registration_1_1services_1_1CertificateService.html">CertificateService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#a3e02549430f2fa9c54b2d8d620ac1166">certificateService</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final Logger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="UploadCertController_8java_source.html#l00047">47</a> of file <a class="el" href="UploadCertController_8java_source.html">UploadCertController.java</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a527883177a6f0d3525c6fe54bd41d323"></a><!-- doxytag: member="portal::registration::controller::UploadCertController::deleteUploadedFile" ref="a527883177a6f0d3525c6fe54bd41d323" args="(ArrayList&lt; String &gt; files)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void portal.registration.controller.UploadCertController.deleteUploadedFile </td>
          <td>(</td>
          <td class="paramtype">ArrayList&lt; String &gt;&#160;</td>
          <td class="paramname"><em>files</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="UploadCertController_8java_source.html#l00389">389</a> of file <a class="el" href="UploadCertController_8java_source.html">UploadCertController.java</a>.</p>
<div class="fragment"><pre class="fragment">                                                                 {
                <span class="keywordflow">try</span> {
                        String cmd = <span class="stringliteral">&quot;rm -f /upload_files/&quot;</span> + files.get(0)
                                        + <span class="stringliteral">&quot; /upload_files/&quot;</span> + files.get(1);
                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;cmd = &quot;</span> + cmd);
                        Runtime.getRuntime().exec(cmd);

                } <span class="keywordflow">catch</span> (IOException e) {

                        e.printStackTrace();
                }
        }
</pre></div>
</div>
</div>
<a class="anchor" id="aee6346cc2b1fde64774735838e5f3011"></a><!-- doxytag: member="portal::registration::controller::UploadCertController::myOpenssl" ref="aee6346cc2b1fde64774735838e5f3011" args="(String opt, String filename, ArrayList&lt; String &gt; errors)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String portal.registration.controller.UploadCertController.myOpenssl </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArrayList&lt; String &gt;&#160;</td>
          <td class="paramname"><em>errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="UploadCertController_8java_source.html#l00294">294</a> of file <a class="el" href="UploadCertController_8java_source.html">UploadCertController.java</a>.</p>
<div class="fragment"><pre class="fragment">                                                  {
                String result = null;

                <span class="keywordflow">try</span> {
                        String cmd = <span class="stringliteral">&quot;/usr/bin/openssl x509 -in /upload_files/&quot;</span> + filename
                                        + <span class="stringliteral">&quot; -&quot;</span> + opt + <span class="stringliteral">&quot; -noout&quot;</span>;
                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;cmd = &quot;</span> + cmd);
                        Process p = Runtime.getRuntime().exec(cmd);
                        InputStream stdout = p.getInputStream();
                        InputStream stderr = p.getErrorStream();

                        BufferedReader output = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(
                                        stdout));
                        String line = null;
                        <span class="keywordtype">int</span> posizione;

                        <span class="keywordtype">int</span> cursore = (opt.equals(<span class="stringliteral">&quot;subject&quot;</span>) || opt.equals(<span class="stringliteral">&quot;issuer&quot;</span>)) ? 2
                                        : 1;

                        <span class="keywordflow">while</span> ((line = output.readLine()) != null) {
                                <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;[Stdout] &quot;</span> + line);
                                <span class="keywordflow">if</span> ((posizione = line.indexOf(<span class="stringliteral">&quot;=&quot;</span>)) != -1) {
                                        result = line.substring(posizione + cursore);
                                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(opt + <span class="stringliteral">&quot; = &quot;</span> + result);
                                }
                        }
                        output.close();

                        BufferedReader brCleanUp = <span class="keyword">new</span> BufferedReader(
                                        <span class="keyword">new</span> InputStreamReader(stderr));
                        <span class="keywordflow">while</span> ((line = brCleanUp.readLine()) != null) {
                                errors.add(<span class="stringliteral">&quot;no-valid-cert-&quot;</span> + opt);
                                <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;[Stderr] &quot;</span> + line);
                        }
                        brCleanUp.close();

                } <span class="keywordflow">catch</span> (IOException e) {

                        e.printStackTrace();
                }

                <span class="keywordflow">return</span> result;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a93445bb06f7dc882972b7ca3f77cb152"></a><!-- doxytag: member="portal::registration::controller::UploadCertController::removeCert" ref="a93445bb06f7dc882972b7ca3f77cb152" args="(ActionRequest request, ActionResponse response, SessionStatus sessionStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void portal.registration.controller.UploadCertController.removeCert </td>
          <td>(</td>
          <td class="paramtype">ActionRequest&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ActionResponse&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SessionStatus&#160;</td>
          <td class="paramname"><em>sessionStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="UploadCertController_8java_source.html#l00366">366</a> of file <a class="el" href="UploadCertController_8java_source.html">UploadCertController.java</a>.</p>

<p>References <a class="el" href="interfaceportal_1_1registration_1_1services_1_1CertificateService.html#a38c935159bdcb93abdb8ae5f37a72b82">portal.registration.services.CertificateService.delete()</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {

                <span class="keywordtype">int</span> idCert = Integer.parseInt(request.getParameter(<span class="stringliteral">&quot;idCert&quot;</span>));
                String userId = request.getParameter(<span class="stringliteral">&quot;userId&quot;</span>);

                <span class="keywordflow">try</span> {
                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;Sto per cancellare il certificato con id = &quot;</span> + idCert);
                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#a3e02549430f2fa9c54b2d8d620ac1166">certificateService</a>.delete(idCert);
                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;Certificato cancellato&quot;</span>);

                        SessionMessages.add(request, <span class="stringliteral">&quot;certificate-deleted-successufully&quot;</span>);

                } <span class="keywordflow">catch</span> (Exception e) {
                        SessionErrors.add(request, <span class="stringliteral">&quot;error-deleting-certificate&quot;</span>);
                }

                response.setRenderParameter(<span class="stringliteral">&quot;myaction&quot;</span>, <span class="stringliteral">&quot;editUserInfoForm&quot;</span>);
                response.setRenderParameter(<span class="stringliteral">&quot;userId&quot;</span>, userId);
                sessionStatus.setComplete();

        }
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classportal_1_1registration_1_1controller_1_1UploadCertController_a93445bb06f7dc882972b7ca3f77cb152_cgraph.png" border="0" usemap="#classportal_1_1registration_1_1controller_1_1UploadCertController_a93445bb06f7dc882972b7ca3f77cb152_cgraph" alt=""/></div>
<map name="classportal_1_1registration_1_1controller_1_1UploadCertController_a93445bb06f7dc882972b7ca3f77cb152_cgraph" id="classportal_1_1registration_1_1controller_1_1UploadCertController_a93445bb06f7dc882972b7ca3f77cb152_cgraph">
<area shape="rect" id="node3" href="interfaceportal_1_1registration_1_1services_1_1CertificateService.html#a38c935159bdcb93abdb8ae5f37a72b82" title="portal.registration.services.CertificateService.delete" alt="" coords="403,4,698,31"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae16df287c878b7a8539deca62dae4fa0"></a><!-- doxytag: member="portal::registration::controller::UploadCertController::setDefaultCert" ref="ae16df287c878b7a8539deca62dae4fa0" args="(ActionRequest request, ActionResponse response, SessionStatus sessionStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void portal.registration.controller.UploadCertController.setDefaultCert </td>
          <td>(</td>
          <td class="paramtype">ActionRequest&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ActionResponse&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SessionStatus&#160;</td>
          <td class="paramname"><em>sessionStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="UploadCertController_8java_source.html#l00340">340</a> of file <a class="el" href="UploadCertController_8java_source.html">UploadCertController.java</a>.</p>

<p>References <a class="el" href="interfaceportal_1_1registration_1_1services_1_1CertificateService.html#a31323ccb59ca777ac0bc7341454cbb07">portal.registration.services.CertificateService.setDefault()</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {

                <span class="keywordtype">int</span> idCert = Integer.parseInt(request.getParameter(<span class="stringliteral">&quot;idCert&quot;</span>));
                String userId = request.getParameter(<span class="stringliteral">&quot;userId&quot;</span>);

                <span class="keywordflow">try</span> {
                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;Sto per cancellare il certificato con id = &quot;</span> + idCert);
                        <span class="keywordflow">if</span> (<a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#a3e02549430f2fa9c54b2d8d620ac1166">certificateService</a>.setDefault(idCert))
                                SessionMessages.add(request,
                                                <span class="stringliteral">&quot;certificate-updated-successufully&quot;</span>);
                        <span class="keywordflow">else</span>
                                SessionErrors.add(request, <span class="stringliteral">&quot;error-default-certificate&quot;</span>);
                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;Certificato cancellato&quot;</span>);

                } <span class="keywordflow">catch</span> (Exception e) {
                        SessionErrors.add(request, <span class="stringliteral">&quot;error-updating-certificate&quot;</span>);
                }

                response.setRenderParameter(<span class="stringliteral">&quot;myaction&quot;</span>, <span class="stringliteral">&quot;editUserInfoForm&quot;</span>);
                response.setRenderParameter(<span class="stringliteral">&quot;userId&quot;</span>, userId);
                sessionStatus.setComplete();

        }
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classportal_1_1registration_1_1controller_1_1UploadCertController_ae16df287c878b7a8539deca62dae4fa0_cgraph.png" border="0" usemap="#classportal_1_1registration_1_1controller_1_1UploadCertController_ae16df287c878b7a8539deca62dae4fa0_cgraph" alt=""/></div>
<map name="classportal_1_1registration_1_1controller_1_1UploadCertController_ae16df287c878b7a8539deca62dae4fa0_cgraph" id="classportal_1_1registration_1_1controller_1_1UploadCertController_ae16df287c878b7a8539deca62dae4fa0_cgraph">
<area shape="rect" id="node3" href="interfaceportal_1_1registration_1_1services_1_1CertificateService.html#a31323ccb59ca777ac0bc7341454cbb07" title="portal.registration.services.CertificateService.setDefault" alt="" coords="417,4,733,31"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac913a3594756b96ed7f0fcd84554db1d"></a><!-- doxytag: member="portal::registration::controller::UploadCertController::showUploadCert" ref="ac913a3594756b96ed7f0fcd84554db1d" args="(RenderResponse response)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String portal.registration.controller.UploadCertController.showUploadCert </td>
          <td>(</td>
          <td class="paramtype">RenderResponse&#160;</td>
          <td class="paramname"><em>response</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="UploadCertController_8java_source.html#l00056">56</a> of file <a class="el" href="UploadCertController_8java_source.html">UploadCertController.java</a>.</p>
<div class="fragment"><pre class="fragment">                                                              {
                <span class="keywordflow">return</span> <span class="stringliteral">&quot;uploadCert&quot;</span>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="aabfea247d5dc60c807432e5c7d097b88"></a><!-- doxytag: member="portal::registration::controller::UploadCertController::uploadCert" ref="aabfea247d5dc60c807432e5c7d097b88" args="(ActionRequest request, ActionResponse response, SessionStatus sessionStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void portal.registration.controller.UploadCertController.uploadCert </td>
          <td>(</td>
          <td class="paramtype">ActionRequest&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ActionResponse&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SessionStatus&#160;</td>
          <td class="paramname"><em>sessionStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws PortalException, 			SystemException </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="UploadCertController_8java_source.html#l00061">61</a> of file <a class="el" href="UploadCertController_8java_source.html">UploadCertController.java</a>.</p>

<p>References <a class="el" href="Certificate_8java_source.html#l00129">portal.registration.domain.Certificate.equals()</a>, <a class="el" href="interfaceportal_1_1registration_1_1services_1_1CertificateService.html#a6e2ec6680c5fe99c57210c58567e5df1">portal.registration.services.CertificateService.findById()</a>, <a class="el" href="interfaceportal_1_1registration_1_1services_1_1CertificateService.html#a83013e7c634e5103c7bc21e961243b91">portal.registration.services.CertificateService.save()</a>, <a class="el" href="Certificate_8java_source.html#l00098">portal.registration.domain.Certificate.setCaonline()</a>, <a class="el" href="Certificate_8java_source.html#l00089">portal.registration.domain.Certificate.setExpirationDate()</a>, <a class="el" href="Certificate_8java_source.html#l00060">portal.registration.domain.Certificate.setIdCert()</a>, <a class="el" href="Certificate_8java_source.html#l00116">portal.registration.domain.Certificate.setIssuer()</a>, <a class="el" href="Certificate_8java_source.html#l00107">portal.registration.domain.Certificate.setPrimaryCert()</a>, <a class="el" href="Certificate_8java_source.html#l00079">portal.registration.domain.Certificate.setSubject()</a>, and <a class="el" href="MyValidator_8java_source.html#l00088">portal.registration.utils.MyValidator.validateCert()</a>.</p>
<div class="fragment"><pre class="fragment">                                        {

                ArrayList&lt;String&gt; errors = <span class="keyword">new</span> ArrayList&lt;String&gt;();
                <span class="keywordtype">boolean</span> allOk = <span class="keyword">true</span>;

                HttpServletRequest req = PortalUtil.getHttpServletRequest(request);

                <span class="keywordflow">if</span> (req != null) {
                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;yessssss req&quot;</span>);
                } <span class="keywordflow">else</span> {
                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;noooooo disastro req&quot;</span>);
                }

                String ns = response.getNamespace();
                String primaryCert = null;
                String pwd = null;
                String pwd1 = null;
                String pwd2 = null;
                String username = null;
                String firstReg = null;
                ArrayList&lt;String&gt; files = <span class="keyword">new</span> ArrayList&lt;String&gt;();
                <span class="keywordtype">int</span> uid = 0;

                File dir = <span class="keyword">new</span> File(<span class="stringliteral">&quot;/upload_files&quot;</span>);
                <span class="keywordflow">if</span> (dir.isDirectory()) {

                        <span class="keywordflow">if</span> (ServletFileUpload.isMultipartContent(req)) {
                                <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;yessssss&quot;</span> + ServletFileUpload.isMultipartContent(req));
                                <span class="keywordflow">try</span> {
                                        MultipartParser mp = <span class="keyword">new</span> MultipartParser(req,
                                                        1 * 1024 * 1024); <span class="comment">// 10MB</span>
                                        Part part;
                                        <span class="keywordflow">while</span> ((part = mp.readNextPart()) != null) {
                                                String name = part.getName();
                                                <span class="keywordflow">if</span> (part.isParam()) {
                                                        ParamPart paramPart = (ParamPart) part;
                                                        String value = paramPart.getStringValue();
                                                        <span class="keywordflow">if</span> (name.equals(ns + <span class="stringliteral">&quot;password&quot;</span>))
                                                                pwd1 = value;
                                                        <span class="keywordflow">if</span> (name.equals(ns + <span class="stringliteral">&quot;passwordVerify&quot;</span>))
                                                                pwd2 = value;
                                                        <span class="keywordflow">if</span> (name.equals(ns + <span class="stringliteral">&quot;username&quot;</span>))
                                                                username = value;
                                                        <span class="keywordflow">if</span> (name.equals(ns + <span class="stringliteral">&quot;userId&quot;</span>))
                                                                uid = Integer.parseInt(value);
                                                        <span class="keywordflow">if</span> (name.equals(ns + <span class="stringliteral">&quot;keyPass&quot;</span>))
                                                                pwd = value;
                                                        <span class="keywordflow">if</span> (name.equals(ns + <span class="stringliteral">&quot;primaryCert&quot;</span>))
                                                                primaryCert = value;
                                                        <span class="keywordflow">if</span> (name.equals(ns + <span class="stringliteral">&quot;firstReg&quot;</span>))
                                                                firstReg = value;
                                                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;param; name=&quot;</span> + name + <span class="stringliteral">&quot;, value=&quot;</span> + value);
                                                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (part.isFile()) {
                                                        <span class="comment">// it&#39;s a file part</span>
                                                        FilePart filePart = (FilePart) part;
                                                        String fileName = filePart.getFileName();
                                                        <span class="keywordflow">if</span> (fileName != null) {
                                                                <span class="comment">// the part actually contained a file</span>
                                                                <span class="keywordtype">long</span> size = filePart.writeTo(dir);
                                                                <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;file; name=&quot;</span> + name + <span class="stringliteral">&quot;; filename=&quot;</span>
                                                                                + fileName + <span class="stringliteral">&quot;, filePath=&quot;</span>
                                                                                + filePart.getFilePath()
                                                                                + <span class="stringliteral">&quot;, content type=&quot;</span>
                                                                                + filePart.getContentType() + <span class="stringliteral">&quot;, size=&quot;</span>
                                                                                + size);
                                                                files.add(fileName);
                                                        } <span class="keywordflow">else</span> {
                                                                <span class="comment">// the field did not contain a file</span>
                                                                <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;file; name=&quot;</span> + name + <span class="stringliteral">&quot;; EMPTY&quot;</span>);
                                                        }
                                                }
                                        }

                                } <span class="keywordflow">catch</span> (IOException lEx) {
                                        allOk = <span class="keyword">false</span>;
                                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;error reading or saving file&quot;</span>);
                                }

                        } <span class="keywordflow">else</span> {
                                allOk = <span class="keyword">false</span>;
                                <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;nooooooo &quot;</span>
                                                + ServletFileUpload.isMultipartContent(req));
                        }

                } <span class="keywordflow">else</span> {
                        allOk = <span class="keyword">false</span>;
                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;non è un a directory&quot;</span>);
                }

                <span class="keywordflow">if</span> (MyValidator.validateCert(pwd, pwd1, pwd2, errors) &amp;&amp; allOk) {
                        <span class="comment">// controllo file</span>

                        <span class="comment">// esecuzione myproxy</span>

                        <span class="comment">/*</span>
<span class="comment">                         * try { Runtime.getRuntime().exec(&quot;/bin/chmod 600 /upload_files/&quot; +</span>
<span class="comment">                         * files.get(1)); String myproxy =</span>
<span class="comment">                         * &quot;/usr/bin/python /upload_files/myproxy2.py &quot; + username +</span>
<span class="comment">                         * &quot; /upload_files/&quot; + files.get(0) + &quot; /upload_files/&quot; +</span>
<span class="comment">                         * files.get(1) + &quot; &quot; + pwd + &quot; &quot; + pwd1;</span>
<span class="comment">                         * log.info(&quot;Myproxy command = &quot; + myproxy); Process p =</span>
<span class="comment">                         * Runtime.getRuntime().exec(myproxy); InputStream stdout =</span>
<span class="comment">                         * p.getInputStream(); InputStream stderr = p.getErrorStream ();</span>
<span class="comment">                         * </span>
<span class="comment">                         * </span>
<span class="comment">                         * BufferedReader output = new BufferedReader (new InputStreamReader</span>
<span class="comment">                         * (stdout)); String line = null;</span>
<span class="comment">                         * </span>
<span class="comment">                         * while (((line = output.readLine ()) != null)) {</span>
<span class="comment">                         * </span>
<span class="comment">                         * log.info(&quot;[Stdout] &quot; + line); if(line.equals(&quot;myproxy success&quot;)){</span>
<span class="comment">                         * log.info(&quot;myproxy ok&quot;); pwd+=&quot;\n&quot;; }</span>
<span class="comment">                         * if(line.equals(&quot;myproxy verify password failure&quot;)){</span>
<span class="comment">                         * log.info(line); allOk = false; }</span>
<span class="comment">                         * if(line.equals(&quot;myproxy password userkey failure&quot;)){</span>
<span class="comment">                         * log.info(line); allOk = false; } } output.close();</span>
<span class="comment">                         * </span>
<span class="comment">                         * BufferedReader brCleanUp = new BufferedReader (new</span>
<span class="comment">                         * InputStreamReader (stderr)); while ((line = brCleanUp.readLine</span>
<span class="comment">                         * ()) != null) { allOk = false; log.info (&quot;[Stderr] &quot; + line); }</span>
<span class="comment">                         * if(!allOk) errors.add(&quot;myproxy-error&quot;); brCleanUp.close(); }</span>
<span class="comment">                         * catch (IOException e1) { allOk = false;</span>
<span class="comment">                         * errors.add(&quot;myproxy-exception&quot;); e1.printStackTrace(); }</span>
<span class="comment">                         */</span>

                        String subject = <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#aee6346cc2b1fde64774735838e5f3011">myOpenssl</a>(<span class="stringliteral">&quot;subject&quot;</span>, files.get(0), errors);
                        String issuer = <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#aee6346cc2b1fde64774735838e5f3011">myOpenssl</a>(<span class="stringliteral">&quot;issuer&quot;</span>, files.get(0), errors);
                        String enddate = <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#aee6346cc2b1fde64774735838e5f3011">myOpenssl</a>(<span class="stringliteral">&quot;enddate&quot;</span>, files.get(0), errors);

                        <span class="keywordflow">if</span> ((subject != null) &amp;&amp; (issuer != null) &amp;&amp; (enddate != null)
                                        &amp;&amp; allOk) {
                                Date date = null;

                                <span class="keywordflow">try</span> {
                                        DateFormat formatter = <span class="keyword">new</span> SimpleDateFormat(
                                                        <span class="stringliteral">&quot;MMM dd HH:mm:ss yyyy z&quot;</span>);
                                        date = (Date) formatter.parse(enddate);

                                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;data formattata = &quot;</span> + date.toString());
                                        GregorianCalendar c = <span class="keyword">new</span> GregorianCalendar();
                                        Date oggi = c.getTime();
                                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;data oggi = &quot;</span> + oggi.toString());

                                        <span class="keywordflow">if</span> (date.before(oggi)) {
                                                <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;Certificato scaduto&quot;</span>);
                                                errors.add(<span class="stringliteral">&quot;user-certificate-expired&quot;</span>);
                                                allOk = <span class="keyword">false</span>;
                                        } <span class="keywordflow">else</span> {
                                                <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;Certificato valido&quot;</span>);
                                        }

                                } <span class="keywordflow">catch</span> (ParseException e) {
                                        allOk = <span class="keyword">false</span>;
                                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;Eccezzione data&quot;</span>);
                                }
                                <span class="keywordflow">if</span> (allOk) {
                                        Certificate cert = <span class="keyword">new</span> Certificate();
                                        cert.setIdCert(0);
                                        cert.setCaonline(<span class="stringliteral">&quot;false&quot;</span>);
                                        cert.setExpirationDate(date);
                                        cert.setIssuer(issuer);
                                        cert.setPrimaryCert(primaryCert);
                                        cert.setSubject(subject);

                                        List&lt;Certificate&gt; lc = <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#a3e02549430f2fa9c54b2d8d620ac1166">certificateService</a>.findById(uid);
                                        <span class="keywordtype">int</span> i = 0;
                                        <span class="keywordflow">for</span> (i = 0; i &lt; lc.size(); i++) {
                                                <span class="keywordflow">if</span> (cert.equals(lc.get(i))) {
                                                        allOk = <span class="keyword">false</span>;
                                                        errors.add(<span class="stringliteral">&quot;certificate-duplicate&quot;</span>);
                                                        <span class="keywordflow">break</span>;
                                                }

                                        }
                                        <span class="keywordflow">if</span> (allOk) {
                                                <span class="keywordtype">int</span> <span class="keywordtype">id</span> = <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#a3e02549430f2fa9c54b2d8d620ac1166">certificateService</a>.save(cert, uid);

                                                <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != -1) {
                                                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;inserito il certificato per l&#39;utente con userId = &quot;</span>
                                                                        + uid);
                                                } <span class="keywordflow">else</span> {
                                                        allOk = <span class="keyword">false</span>;
                                                }
                                        }
                                }
                        } <span class="keywordflow">else</span> {
                                <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;errori vari&quot;</span>);
                                allOk = <span class="keyword">false</span>;
                        }
                }

                <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;controllo errori&quot;</span>);
                <span class="keywordflow">if</span> (allOk) {

                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;tutto ok!!&quot;</span>);
                        SessionMessages.add(request, <span class="stringliteral">&quot;upload-cert-successufully&quot;</span>);

                        <span class="keywordflow">if</span> (firstReg.equals(<span class="stringliteral">&quot;true&quot;</span>)) {
                                response.setRenderParameter(<span class="stringliteral">&quot;myaction&quot;</span>,
                                                <span class="stringliteral">&quot;showAddUserToVoPresents&quot;</span>);
                                response.setRenderParameter(<span class="stringliteral">&quot;userId&quot;</span>, Integer.toString(uid));
                                request.setAttribute(<span class="stringliteral">&quot;userId&quot;</span>, uid);

                        } <span class="keywordflow">else</span> {
                                response.setRenderParameter(<span class="stringliteral">&quot;myaction&quot;</span>, <span class="stringliteral">&quot;editUserInfoForm&quot;</span>);
                                response.setRenderParameter(<span class="stringliteral">&quot;userId&quot;</span>, Integer.toString(uid));
                        }

                } <span class="keywordflow">else</span> {

                        <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;Trovato errori&quot;</span>);
                        errors.add(<span class="stringliteral">&quot;error-uploading-certificate&quot;</span>);

                        <span class="keywordflow">for</span> (String error : errors) {
                                <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">log</a>.info(<span class="stringliteral">&quot;Errore: &quot;</span> + error);
                                SessionErrors.add(request, error);
                        }

                        sessionStatus.setComplete();
                        response.setRenderParameter(<span class="stringliteral">&quot;myaction&quot;</span>, <span class="stringliteral">&quot;showUploadCert&quot;</span>);
                        request.setAttribute(<span class="stringliteral">&quot;userId&quot;</span>, uid);
                        request.setAttribute(<span class="stringliteral">&quot;username&quot;</span>, username);
                        request.setAttribute(<span class="stringliteral">&quot;password&quot;</span>, pwd1);
                        request.setAttribute(<span class="stringliteral">&quot;passwordVerify&quot;</span>, pwd2);

                }

                <a class="code" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#a527883177a6f0d3525c6fe54bd41d323">deleteUploadedFile</a>(files);

        }
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classportal_1_1registration_1_1controller_1_1UploadCertController_aabfea247d5dc60c807432e5c7d097b88_cgraph.png" border="0" usemap="#classportal_1_1registration_1_1controller_1_1UploadCertController_aabfea247d5dc60c807432e5c7d097b88_cgraph" alt=""/></div>
<map name="classportal_1_1registration_1_1controller_1_1UploadCertController_aabfea247d5dc60c807432e5c7d097b88_cgraph" id="classportal_1_1registration_1_1controller_1_1UploadCertController_aabfea247d5dc60c807432e5c7d097b88_cgraph">
<area shape="rect" id="node3" href="classportal_1_1registration_1_1domain_1_1Certificate.html#ab1b7623aaf7364f3b30f8b612e887353" title="portal.registration.domain.Certificate.equals" alt="" coords="427,4,680,31"/><area shape="rect" id="node5" href="interfaceportal_1_1registration_1_1services_1_1CertificateService.html#a6e2ec6680c5fe99c57210c58567e5df1" title="portal.registration.services.CertificateService.findById" alt="" coords="401,55,706,81"/><area shape="rect" id="node7" href="interfaceportal_1_1registration_1_1services_1_1CertificateService.html#a83013e7c634e5103c7bc21e961243b91" title="portal.registration.services.CertificateService.save" alt="" coords="410,105,697,132"/><area shape="rect" id="node9" href="classportal_1_1registration_1_1domain_1_1Certificate.html#a1768dd3798008b6e1bf3c80c2cfb4885" title="portal.registration.domain.Certificate.setCaonline" alt="" coords="413,156,694,183"/><area shape="rect" id="node11" href="classportal_1_1registration_1_1domain_1_1Certificate.html#a5be4ee6795b3c26252c099c98218479f" title="portal.registration.domain.Certificate.setExpirationDate" alt="" coords="397,207,709,233"/><area shape="rect" id="node13" href="classportal_1_1registration_1_1domain_1_1Certificate.html#ae9ef0dd089f716d4cb52890c629ebd79" title="portal.registration.domain.Certificate.setIdCert" alt="" coords="420,257,686,284"/><area shape="rect" id="node15" href="classportal_1_1registration_1_1domain_1_1Certificate.html#aa469f1b297ff231d37b56cf926774365" title="portal.registration.domain.Certificate.setIssuer" alt="" coords="420,308,686,335"/><area shape="rect" id="node17" href="classportal_1_1registration_1_1domain_1_1Certificate.html#a265b7255aabb51902882c5d7c12c122e" title="portal.registration.domain.Certificate.setPrimaryCert" alt="" coords="405,359,702,385"/><area shape="rect" id="node19" href="classportal_1_1registration_1_1domain_1_1Certificate.html#a6f285c68c3095c89f9432e42b4f4dc37" title="portal.registration.domain.Certificate.setSubject" alt="" coords="417,409,690,436"/><area shape="rect" id="node21" href="classportal_1_1registration_1_1utils_1_1MyValidator.html#aeee5050b9c941e448aae3c399bec3da5" title="portal.registration.utils.MyValidator.validateCert" alt="" coords="418,460,689,487"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a3e02549430f2fa9c54b2d8d620ac1166"></a><!-- doxytag: member="portal::registration::controller::UploadCertController::certificateService" ref="a3e02549430f2fa9c54b2d8d620ac1166" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceportal_1_1registration_1_1services_1_1CertificateService.html">CertificateService</a> <a class="el" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#a3e02549430f2fa9c54b2d8d620ac1166">portal.registration.controller.UploadCertController.certificateService</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="UploadCertController_8java_source.html#l00053">53</a> of file <a class="el" href="UploadCertController_8java_source.html">UploadCertController.java</a>.</p>

</div>
</div>
<a class="anchor" id="ad52031d20516c6accce86ff8e44526d1"></a><!-- doxytag: member="portal::registration::controller::UploadCertController::log" ref="ad52031d20516c6accce86ff8e44526d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final Logger <a class="el" href="classportal_1_1registration_1_1controller_1_1UploadCertController.html#ad52031d20516c6accce86ff8e44526d1">portal.registration.controller.UploadCertController.log</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> Logger
                        .getLogger(UploadCertController.class)
</pre></div>
<p>Definition at line <a class="el" href="UploadCertController_8java_source.html#l00049">49</a> of file <a class="el" href="UploadCertController_8java_source.html">UploadCertController.java</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/mikel8/Documents/Uni/workspace/Registration/src/main/java/portal/registration/controller/<a class="el" href="UploadCertController_8java_source.html">UploadCertController.java</a></li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jul 13 2011 16:11:07 for Registration by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
