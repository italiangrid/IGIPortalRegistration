\hypertarget{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController}{
\section{portal.registration.controller.AddUserToVoPresentsController Class Reference}
\label{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController}\index{portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}}
}


Collaboration diagram for portal.registration.controller.AddUserToVoPresentsController:
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classportal_1_1registration_1_1domain_1_1UserInfo}{UserInfo} \hyperlink{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a224fcac7ef46714053cdba79aa033173}{getCommandObject} ()
\item 
List$<$ \hyperlink{classportal_1_1registration_1_1domain_1_1Vo}{Vo} $>$ \hyperlink{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a66e34d894781132d66af5df698ceca93}{getUserToVoList} (@RequestParam int userId)
\item 
String \hyperlink{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a648d1bc4409c6d066c845d26eeef8549}{showUserInfoForm} (@RequestParam int userId, RenderRequest request)
\item 
void \hyperlink{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a00a3af630843a4726243dcdb2b2888b4}{goToAddUserToVOForm} (ActionRequest request, ActionResponse response, SessionStatus sessionStatus)
\item 
List$<$ \hyperlink{classportal_1_1registration_1_1domain_1_1Vo}{Vo} $>$ \hyperlink{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a70638160f2dd0c8c0074f314057aa352}{getVos} ()
\item 
void \hyperlink{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a71ec5744b44d623bc176c07bb0a6eb5f}{userToVoComplete} (ActionResponse response, SessionStatus sessionStatus)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_aa50525ef91683e6c99413cca24b54ddd}{deactivateUser} (int userId, RenderRequest request)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{interfaceportal_1_1registration_1_1services_1_1VoService}{VoService} \hyperlink{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a936c326945b8c4b2bd48e7268ba24d71}{voService}
\item 
\hyperlink{interfaceportal_1_1registration_1_1services_1_1UserToVoService}{UserToVoService} \hyperlink{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_afe2ecbd7fe183c929409f1ad9247563b}{userToVoService}
\item 
\hyperlink{interfaceportal_1_1registration_1_1services_1_1UserInfoService}{UserInfoService} \hyperlink{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a7b6df22c5fd9e60ed91b5969bbeea071}{userInfoService}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 32 of file AddUserToVoPresentsController.java.



\subsection{Member Function Documentation}
\hypertarget{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_aa50525ef91683e6c99413cca24b54ddd}{
\index{portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}!deactivateUser@{deactivateUser}}
\index{deactivateUser@{deactivateUser}!portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}}
\subsubsection[{deactivateUser}]{\setlength{\rightskip}{0pt plus 5cm}void portal.registration.controller.AddUserToVoPresentsController.deactivateUser (
\begin{DoxyParamCaption}
\item[{int}]{userId, }
\item[{RenderRequest}]{request}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_aa50525ef91683e6c99413cca24b54ddd}


Definition at line 65 of file AddUserToVoPresentsController.java.



References portal.registration.services.UserInfoService.edit(), portal.registration.services.UserInfoService.findById(), portal.registration.domain.UserInfo.getRegistrationComplete(), portal.registration.domain.UserInfo.getUsername(), and portal.registration.domain.UserInfo.setRegistrationComplete().


\begin{DoxyCode}
                                                                       {

                UserInfo userInfo = userInfoService.findById(userId);

                if (userInfo.getRegistrationComplete().equals("true")) {
                        String username = userInfo.getUsername();

                        long companyId = PortalUtil.getCompanyId(request);

                        User user;
                        try {
                                user = UserLocalServiceUtil.getUserByScreenName(c
      ompanyId,
                                                username);

                                UserLocalServiceUtil.deleteRoleUser((long) 10140,
      
                                                user.getUserId());

                                userInfo.setRegistrationComplete("false");

                                userInfoService.edit(userInfo);

                        } catch (PortalException e) {
                                SessionErrors.add(request, "exception-deactivatio
      n-user");
                                e.printStackTrace();
                        } catch (SystemException e) {
                                SessionErrors.add(request, "exception-deactivatio
      n-user");
                                e.printStackTrace();
                        }
                }

        }
\end{DoxyCode}


Here is the call graph for this function:


\hypertarget{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a224fcac7ef46714053cdba79aa033173}{
\index{portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}!getCommandObject@{getCommandObject}}
\index{getCommandObject@{getCommandObject}!portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}}
\subsubsection[{getCommandObject}]{\setlength{\rightskip}{0pt plus 5cm}{\bf UserInfo} portal.registration.controller.AddUserToVoPresentsController.getCommandObject (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a224fcac7ef46714053cdba79aa033173}


Definition at line 44 of file AddUserToVoPresentsController.java.


\begin{DoxyCode}
                                           {
                return new UserInfo();
        }
\end{DoxyCode}
\hypertarget{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a66e34d894781132d66af5df698ceca93}{
\index{portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}!getUserToVoList@{getUserToVoList}}
\index{getUserToVoList@{getUserToVoList}!portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}}
\subsubsection[{getUserToVoList}]{\setlength{\rightskip}{0pt plus 5cm}List$<${\bf Vo}$>$ portal.registration.controller.AddUserToVoPresentsController.getUserToVoList (
\begin{DoxyParamCaption}
\item[{@RequestParam int}]{userId}
\end{DoxyParamCaption}
)}}
\label{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a66e34d894781132d66af5df698ceca93}


Definition at line 49 of file AddUserToVoPresentsController.java.



References portal.registration.services.UserToVoService.findVoByUserId().


\begin{DoxyCode}
                                                                  {

                return userToVoService.findVoByUserId(userId);
        }
\end{DoxyCode}


Here is the call graph for this function:


\hypertarget{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a70638160f2dd0c8c0074f314057aa352}{
\index{portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}!getVos@{getVos}}
\index{getVos@{getVos}!portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}}
\subsubsection[{getVos}]{\setlength{\rightskip}{0pt plus 5cm}List$<${\bf Vo}$>$ portal.registration.controller.AddUserToVoPresentsController.getVos (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a70638160f2dd0c8c0074f314057aa352}


Definition at line 114 of file AddUserToVoPresentsController.java.



References portal.registration.services.VoService.getAllVo().


\begin{DoxyCode}
                                 {
                return voService.getAllVo();
        }
\end{DoxyCode}


Here is the call graph for this function:


\hypertarget{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a00a3af630843a4726243dcdb2b2888b4}{
\index{portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}!goToAddUserToVOForm@{goToAddUserToVOForm}}
\index{goToAddUserToVOForm@{goToAddUserToVOForm}!portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}}
\subsubsection[{goToAddUserToVOForm}]{\setlength{\rightskip}{0pt plus 5cm}void portal.registration.controller.AddUserToVoPresentsController.goToAddUserToVOForm (
\begin{DoxyParamCaption}
\item[{ActionRequest}]{request, }
\item[{ActionResponse}]{response, }
\item[{SessionStatus}]{sessionStatus}
\end{DoxyParamCaption}
)}}
\label{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a00a3af630843a4726243dcdb2b2888b4}


Definition at line 99 of file AddUserToVoPresentsController.java.


\begin{DoxyCode}
                                                                              {

                int userId = Integer.parseInt(request.getParameter("userId"));
                response.setRenderParameter("myaction", "showAddUserToVO");
                response.setRenderParameter("userId", Integer.toString(userId));
                // log.info("firstReg = " +
                // ((request.getParameter("firstReg")==null)?"null":request.getPa
      rameter("firstReg")));

                request.setAttribute("firstReg", request.getParameter("firstReg")
      );
                sessionStatus.setComplete();

        }
\end{DoxyCode}
\hypertarget{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a648d1bc4409c6d066c845d26eeef8549}{
\index{portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}!showUserInfoForm@{showUserInfoForm}}
\index{showUserInfoForm@{showUserInfoForm}!portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}}
\subsubsection[{showUserInfoForm}]{\setlength{\rightskip}{0pt plus 5cm}String portal.registration.controller.AddUserToVoPresentsController.showUserInfoForm (
\begin{DoxyParamCaption}
\item[{@RequestParam int}]{userId, }
\item[{RenderRequest}]{request}
\end{DoxyParamCaption}
)}}
\label{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a648d1bc4409c6d066c845d26eeef8549}


Definition at line 55 of file AddUserToVoPresentsController.java.



References portal.registration.services.UserToVoService.findById().


\begin{DoxyCode}
                                               {

                if (userToVoService.findById(userId).size() == 0) {
                        deactivateUser(userId, request);
                        SessionMessages.add(request, "user-deactivate");
                }
                return "addUserToVoPresents";
        }
\end{DoxyCode}


Here is the call graph for this function:


\hypertarget{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a71ec5744b44d623bc176c07bb0a6eb5f}{
\index{portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}!userToVoComplete@{userToVoComplete}}
\index{userToVoComplete@{userToVoComplete}!portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}}
\subsubsection[{userToVoComplete}]{\setlength{\rightskip}{0pt plus 5cm}void portal.registration.controller.AddUserToVoPresentsController.userToVoComplete (
\begin{DoxyParamCaption}
\item[{ActionResponse}]{response, }
\item[{SessionStatus}]{sessionStatus}
\end{DoxyParamCaption}
)}}
\label{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a71ec5744b44d623bc176c07bb0a6eb5f}


Definition at line 119 of file AddUserToVoPresentsController.java.


\begin{DoxyCode}
                                                     {

                response.setRenderParameter("myaction", "userInfos");
                sessionStatus.setComplete();

        }
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a7b6df22c5fd9e60ed91b5969bbeea071}{
\index{portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}!userInfoService@{userInfoService}}
\index{userInfoService@{userInfoService}!portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}}
\subsubsection[{userInfoService}]{\setlength{\rightskip}{0pt plus 5cm}{\bf UserInfoService} {\bf portal.registration.controller.AddUserToVoPresentsController.userInfoService}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a7b6df22c5fd9e60ed91b5969bbeea071}


Definition at line 41 of file AddUserToVoPresentsController.java.

\hypertarget{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_afe2ecbd7fe183c929409f1ad9247563b}{
\index{portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}!userToVoService@{userToVoService}}
\index{userToVoService@{userToVoService}!portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}}
\subsubsection[{userToVoService}]{\setlength{\rightskip}{0pt plus 5cm}{\bf UserToVoService} {\bf portal.registration.controller.AddUserToVoPresentsController.userToVoService}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_afe2ecbd7fe183c929409f1ad9247563b}


Definition at line 38 of file AddUserToVoPresentsController.java.

\hypertarget{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a936c326945b8c4b2bd48e7268ba24d71}{
\index{portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}!voService@{voService}}
\index{voService@{voService}!portal::registration::controller::AddUserToVoPresentsController@{portal::registration::controller::AddUserToVoPresentsController}}
\subsubsection[{voService}]{\setlength{\rightskip}{0pt plus 5cm}{\bf VoService} {\bf portal.registration.controller.AddUserToVoPresentsController.voService}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}
\label{classportal_1_1registration_1_1controller_1_1AddUserToVoPresentsController_a936c326945b8c4b2bd48e7268ba24d71}


Definition at line 35 of file AddUserToVoPresentsController.java.



The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
/Users/mikel8/Documents/Uni/workspace/Registration/src/main/java/portal/registration/controller/\hyperlink{AddUserToVoPresentsController_8java}{AddUserToVoPresentsController.java}\end{DoxyCompactItemize}
