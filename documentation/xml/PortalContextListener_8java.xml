<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.7.4">
  <compounddef id="PortalContextListener_8java" kind="file">
    <compoundname>PortalContextListener.java</compoundname>
    <innerclass refid="classportal_1_1registration_1_1server_1_1PortalContextListener" prot="public">portal::registration::server::PortalContextListener</innerclass>
    <innernamespace refid="namespaceportal_1_1registration_1_1server">portal::registration::server</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespaceportal_1_1registration_1_1server" refkind="compound"><highlight class="keyword">package<sp/></highlight><highlight class="normal">portal.registration.server;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.util.Properties;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>javax.servlet.ServletContextEvent;</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>javax.servlet.ServletContextListener;</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>org.apache.axis.AxisProperties;</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>org.apache.log4j.Logger;</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>org.glite.security.trustmanager.axis.AXISSocketFactory;</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13" refid="classportal_1_1registration_1_1server_1_1PortalContextListener" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classportal_1_1registration_1_1server_1_1PortalContextListener" kindref="compound">PortalContextListener</ref><sp/></highlight><highlight class="keyword">implements</highlight><highlight class="normal"><sp/>ServletContextListener<sp/>{</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15" refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a456018b93684d7862baf2345b0e02da5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">final</highlight><highlight class="normal"><sp/>Logger<sp/><ref refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a456018b93684d7862baf2345b0e02da5" kindref="member">log</ref><sp/>=<sp/>Logger.getLogger(<ref refid="classportal_1_1registration_1_1server_1_1PortalContextListener" kindref="compound">PortalContextListener</ref>.class);</highlight></codeline>
<codeline lineno="16" refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a3fbced411701333a0264f0ea12a1b0f3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">final</highlight><highlight class="normal"><sp/>String<sp/><ref refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a3fbced411701333a0264f0ea12a1b0f3" kindref="member">DEFAULT_SSL_CERT_FILE</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;/etc/grid-security/hostcert.pem&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="17" refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a88510b32b342fcacfe0f48d5fb1b17e9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">final</highlight><highlight class="normal"><sp/>String<sp/><ref refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a88510b32b342fcacfe0f48d5fb1b17e9" kindref="member">DEFAULT_SSL_KEY</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;/etc/grid-security/hostkey.pem&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19" refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a907dff159c77a949be09f9742f14377c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a907dff159c77a949be09f9742f14377c" kindref="member">contextDestroyed</ref>(ServletContextEvent<sp/>arg0)<sp/>{</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>Auto-generated<sp/>method<sp/>stub</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a456018b93684d7862baf2345b0e02da5" kindref="member">log</ref>.info(</highlight><highlight class="stringliteral">&quot;Registration<sp/>Shutdown&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24" refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a6d812a29045e6847a17e3213865d9351" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a6d812a29045e6847a17e3213865d9351" kindref="member">contextInitialized</ref>(ServletContextEvent<sp/>arg0)<sp/>{</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>Auto-generated<sp/>method<sp/>stub</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a456018b93684d7862baf2345b0e02da5" kindref="member">log</ref>.info(</highlight><highlight class="stringliteral">&quot;Registration<sp/>Startup&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1aac92d42095e98923e9680f1837a46468" kindref="member">initializeAxisProperties</ref>();</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31" refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1aac92d42095e98923e9680f1837a46468" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1aac92d42095e98923e9680f1837a46468" kindref="member">initializeAxisProperties</ref>()<sp/>{</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AxisProperties.setProperty(</highlight><highlight class="stringliteral">&quot;axis.socketSecureFactory&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;org.glite.security.trustmanager.axis.AXISSocketFactory&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>need<sp/>to<sp/>pass<sp/>property<sp/>to<sp/>AXISSocketFactory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Properties<sp/>properties<sp/>=<sp/>AXISSocketFactory.getCurrentProperties();</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>will<sp/>get<sp/>cert<sp/>and<sp/>key<sp/>from<sp/>the<sp/>configuration,<sp/>with<sp/>those<sp/>as</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>default</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>properties.setProperty(</highlight><highlight class="stringliteral">&quot;sslCertFile&quot;</highlight><highlight class="normal">,<sp/><ref refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a3fbced411701333a0264f0ea12a1b0f3" kindref="member">DEFAULT_SSL_CERT_FILE</ref>);<sp/></highlight><highlight class="comment">//<sp/>hostcert.pem</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>properties.setProperty(</highlight><highlight class="stringliteral">&quot;sslKey&quot;</highlight><highlight class="normal">,<sp/><ref refid="classportal_1_1registration_1_1server_1_1PortalContextListener_1a88510b32b342fcacfe0f48d5fb1b17e9" kindref="member">DEFAULT_SSL_KEY</ref>);<sp/></highlight><highlight class="comment">//<sp/>hostkey.pem</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AXISSocketFactory.setCurrentProperties(properties);</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.setProperties(properties);</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/Users/mikel8/Documents/Uni/workspace/Registration/src/main/java/portal/registration/server/PortalContextListener.java"/>
  </compounddef>
</doxygen>
